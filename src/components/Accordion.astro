---
---

<div class="accordion">
  <slot />
</div>

<script>
  const accordions = document.querySelectorAll(".accordion");

  accordions.forEach((accordion) => {
    [...accordion.children].forEach((child) => {
      const summary = child.querySelector("summary");

      if (summary) {
        summary.addEventListener("click", (event) => {
          console.log(event);

          const accordionParent = event?.target?.closest(".accordion");
          const openedItems = accordionParent.querySelectorAll("details[open]");

          openedItems.forEach((item) => {
            item.removeAttribute("open");
          });
        });
      }
    });
  });
</script>
